<H2>Test connection between Angular & SonarQube and CORS issue</H2>

<p>
    Reverse proxy based on the url <span class="highlight">{{prefixSonarQube}}</span>
</p>

<p>
    Server : 
    <input [value]="sonarQubeServer" (input)="sonarQubeServer=$event.target.value" id="sonarQubeServer"/>
    <button (click)="go()">Go</button>
    User <input [value]="user" (input)="user=$event.target.value" id="user"/>
    Password <input [value]="password" (input)="password=$event.target.value" id="password"/>
</p>

<div>
    <span id="field">Version : {{version}}</span>
</div>

<div>
    <button (click)="loadSonarSupportedMetrics()" class="field">Load metrics</button>
    <select class="field">
        <option *ngFor="let metric of metrics" [value]="metric.key">{{metric.name}}
        </option>
    </select> 
</div>

<div>
    <button (click)="loadSonarProjects()" class="field">Load Projects</button>
    <select class="field">
        <option *ngFor="let project of projects" [value]="project.key">{{project.name}}
        </option>
    </select> 
</div>


<span class="highlight">
    The connection without reverse proxy is throwing the error :
</span><br/>
<span class="error">
    Access to XMLHttpRequest at 'http://localhost:9000/sonarqube/api/metrics/search?ps=500' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.
</span>